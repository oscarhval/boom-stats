<nav class="header-nav" [class.scrolled]="scrolled">
  <div class="header-inner">
    <a routerLink="/" class="header-logo">
      <img src="assets/img/logo_boomstats2.png" alt="BoomStats">
    </a>

    <ul class="header-menu">
      <li><a routerLink="/stats">Estadísticas</a></li>
      <li><a routerLink="/stats2">Top</a></li>
      <li><a routerLink="/recommendations">Música</a></li>
      <li><a routerLink="/concerts">Conciertos</a></li>
    </ul>

    <div class="header-actions">
<div class="search-wrap">
  <input
    type="text"
    class="search-input"
    placeholder="Buscar"
    [(ngModel)]="searchTerm"
    (keydown)="onSearchKey($event)"
  />
  <button class="search-btn" aria-label="Buscar" (click)="executeSearch()">
    <svg
      class="search-icon"
      width="18"
      height="18"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"/>
      <line x1="16.5" y1="16.5" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</div>


      <button
        *ngIf="!(user$ | async)"
        class="login-btn"
        (click)="onLogin()"
      >
        Iniciar sesión
      </button>

      <div
        *ngIf="user$ | async as user"
        class="user-menu"
        (click)="menuOpen = !menuOpen"
      >
        <img
          class="user-avatar"
          [src]="user.images[0]?.url"
          alt="Avatar {{ user.display_name }}"
        />
        <ul class="dropdown" [class.open]="menuOpen">
          <li (click)="onSettings()">Configuración</li>
          <li (click)="onLogout()">Cerrar sesión</li>
        </ul>
      </div>
    </div>
  </div>
</nav>
